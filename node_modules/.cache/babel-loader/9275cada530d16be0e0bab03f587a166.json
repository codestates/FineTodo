{"ast":null,"code":"const {\n  kakao\n} = window;\nvar options = {\n  enableHighAccuracy: true,\n  timeout: 5000,\n  maximumAge: 0\n};\n\nfunction success(position) {\n  //좌표를 알아낼 수 있는데, 여기서 알아낸 좌표를 kakaoAPI url에 사용할 것이다.\n  console.log('위도 : ' + position.coords.latitude);\n  console.log('경도: ' + position.coords.longitude);\n}\n\n;\n\nfunction error(err) {\n  console.warn('ERROR(' + err.code + '): ' + err.message);\n}\n\n;\nnavigator.geolocation.getCurrentPosition(success, error, options);\nexport default function KakaoMapScript(position) {\n  const container = document.getElementById('myMap');\n  const options = {\n    center: new kakao.maps.LatLng(33.450701, 126.570667),\n    level: 3\n  };\n  const map = new kakao.maps.Map(container, options);\n  const lat = position.coords.latitude;\n  const lon = position.coords.longitude; //kakao REST API에 get 요청을 보낸다.\n  //파라미터 x,y에 lon,lat을 넣어주고 API_KEY를 Authorization헤더에 넣어준다.\n\n  axios.get(`https://dapi.kakao.com/v2/local/geo/coord2address.json?x=${lon}&y=${lat}&input_coord=WGS84`, {\n    headers: {\n      Authorization: `KakaoAK 59fb62f21698a62b917df40cd348b5f5`\n    }\n  }).then(res => {\n    console.log(res.data.documents);\n    dispatch(changeRegion(res.data.documents[0].address.region_1depth_name));\n    dispatch(changeCity(res.data.documents[0].address.region_2depth_name));\n  }).catch(e => console.log(e));\n}\n_c = KakaoMapScript;\n\nfunction onGeoError() {\n  alert(\"위치권한을 확인해주세요\");\n} //navigator.geolocation.getCurrentPosition(위치받는함수, 에러났을때 함수)\n\n\nnavigator.geolocation.getCurrentPosition(KakaoMapScript, onGeoError);\n\nvar _c;\n\n$RefreshReg$(_c, \"KakaoMapScript\");","map":{"version":3,"names":["kakao","window","options","enableHighAccuracy","timeout","maximumAge","success","position","console","log","coords","latitude","longitude","error","err","warn","code","message","navigator","geolocation","getCurrentPosition","KakaoMapScript","container","document","getElementById","center","maps","LatLng","level","map","Map","lat","lon","axios","get","headers","Authorization","then","res","data","documents","dispatch","changeRegion","address","region_1depth_name","changeCity","region_2depth_name","catch","e","onGeoError","alert"],"sources":["/home/bj/바탕화면/FineAcademy-main/src/KakaoMapScript.js"],"sourcesContent":["const { kakao } = window;\nvar options = {\n    enableHighAccuracy: true,\n    timeout: 5000,\n    maximumAge: 0\n  };\n  \n  function success(position) {\n    //좌표를 알아낼 수 있는데, 여기서 알아낸 좌표를 kakaoAPI url에 사용할 것이다.\n    console.log('위도 : ' + position.coords.latitude); \n    console.log('경도: ' + position.coords.longitude);\n  };\n  \n  function error(err) {\n    console.warn('ERROR(' + err.code + '): ' + err.message);\n  };\n  \n  navigator.geolocation.getCurrentPosition(success, error, options);\n\nexport default function KakaoMapScript(position) {\n    const container = document.getElementById('myMap');\n    const options = {\n        center: new kakao.maps.LatLng(33.450701, 126.570667),\n        level: 3\n    };\n    const map = new kakao.maps.Map(container, options);\n    const lat = position.coords.latitude;\n    const lon = position.coords.longitude;\n    \n    //kakao REST API에 get 요청을 보낸다.\n    //파라미터 x,y에 lon,lat을 넣어주고 API_KEY를 Authorization헤더에 넣어준다.\n    axios.get(`https://dapi.kakao.com/v2/local/geo/coord2address.json?x=${lon}&y=${lat}&input_coord=WGS84`\n    ,{headers:{Authorization:`KakaoAK 59fb62f21698a62b917df40cd348b5f5`}}\n    )\n    .then(res=>{\n        console.log(res.data.documents)\n        dispatch(changeRegion(res.data.documents[0].address.region_1depth_name))\n        dispatch(changeCity(res.data.documents[0].address.region_2depth_name)) \n    }\n    ).catch(e=>console.log(e))\n}\nfunction onGeoError(){\n    alert(\"위치권한을 확인해주세요\");\n}\n\n\n//navigator.geolocation.getCurrentPosition(위치받는함수, 에러났을때 함수)\nnavigator.geolocation.getCurrentPosition(KakaoMapScript,onGeoError)\n\n"],"mappings":"AAAA,MAAM;EAAEA;AAAF,IAAYC,MAAlB;AACA,IAAIC,OAAO,GAAG;EACVC,kBAAkB,EAAE,IADV;EAEVC,OAAO,EAAE,IAFC;EAGVC,UAAU,EAAE;AAHF,CAAd;;AAME,SAASC,OAAT,CAAiBC,QAAjB,EAA2B;EACzB;EACAC,OAAO,CAACC,GAAR,CAAY,UAAUF,QAAQ,CAACG,MAAT,CAAgBC,QAAtC;EACAH,OAAO,CAACC,GAAR,CAAY,SAASF,QAAQ,CAACG,MAAT,CAAgBE,SAArC;AACD;;AAAA;;AAED,SAASC,KAAT,CAAeC,GAAf,EAAoB;EAClBN,OAAO,CAACO,IAAR,CAAa,WAAWD,GAAG,CAACE,IAAf,GAAsB,KAAtB,GAA8BF,GAAG,CAACG,OAA/C;AACD;;AAAA;AAEDC,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyCd,OAAzC,EAAkDO,KAAlD,EAAyDX,OAAzD;AAEF,eAAe,SAASmB,cAAT,CAAwBd,QAAxB,EAAkC;EAC7C,MAAMe,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAlB;EACA,MAAMtB,OAAO,GAAG;IACZuB,MAAM,EAAE,IAAIzB,KAAK,CAAC0B,IAAN,CAAWC,MAAf,CAAsB,SAAtB,EAAiC,UAAjC,CADI;IAEZC,KAAK,EAAE;EAFK,CAAhB;EAIA,MAAMC,GAAG,GAAG,IAAI7B,KAAK,CAAC0B,IAAN,CAAWI,GAAf,CAAmBR,SAAnB,EAA8BpB,OAA9B,CAAZ;EACA,MAAM6B,GAAG,GAAGxB,QAAQ,CAACG,MAAT,CAAgBC,QAA5B;EACA,MAAMqB,GAAG,GAAGzB,QAAQ,CAACG,MAAT,CAAgBE,SAA5B,CAR6C,CAU7C;EACA;;EACAqB,KAAK,CAACC,GAAN,CAAW,4DAA2DF,GAAI,MAAKD,GAAI,oBAAnF,EACC;IAACI,OAAO,EAAC;MAACC,aAAa,EAAE;IAAhB;EAAT,CADD,EAGCC,IAHD,CAGMC,GAAG,IAAE;IACP9B,OAAO,CAACC,GAAR,CAAY6B,GAAG,CAACC,IAAJ,CAASC,SAArB;IACAC,QAAQ,CAACC,YAAY,CAACJ,GAAG,CAACC,IAAJ,CAASC,SAAT,CAAmB,CAAnB,EAAsBG,OAAtB,CAA8BC,kBAA/B,CAAb,CAAR;IACAH,QAAQ,CAACI,UAAU,CAACP,GAAG,CAACC,IAAJ,CAASC,SAAT,CAAmB,CAAnB,EAAsBG,OAAtB,CAA8BG,kBAA/B,CAAX,CAAR;EACH,CAPD,EAQEC,KARF,CAQQC,CAAC,IAAExC,OAAO,CAACC,GAAR,CAAYuC,CAAZ,CARX;AASH;KArBuB3B,c;;AAsBxB,SAAS4B,UAAT,GAAqB;EACjBC,KAAK,CAAC,cAAD,CAAL;AACH,C,CAGD;;;AACAhC,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyCC,cAAzC,EAAwD4B,UAAxD"},"metadata":{},"sourceType":"module"}